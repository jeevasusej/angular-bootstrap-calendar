/**
 * angular-bootstrap-calendar - A pure AngularJS bootstrap themed responsive calendar that can display events and has views for year, month, week and day
 * @version v0.20.2
 * @link https://github.com/mattlewis92/angular-bootstrap-calendar
 * @license MIT
 */
(function(n,t){typeof exports=="object"&&typeof module=="object"?module.exports=t(require("angular"),function(){try{return require("interact.js")}catch(n){}}(),require("moment")):typeof define=="function"&&define.amd?define(["angular","interact","moment"],t):typeof exports=="object"?exports.angularBootstrapCalendarModuleName=t(require("angular"),function(){try{return require("interact.js")}catch(n){}}(),require("moment")):n.angularBootstrapCalendarModuleName=t(n.angular,n.interact,n.moment)})(this,function(n,t,i){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t,i){"use strict";function f(n){n.keys().forEach(n)}var r,u,e;i(8);r=i(12);u={};!0&&(e=i(13),e.keys().forEach(function(n){var t=n.replace("./",""),i="mwl/"+t,r=t.replace(".html","");u[r]={cacheTemplateName:i,template:e(n)}}));n.exports=r.module("mwl.calendar",[]).config(["calendarConfig",function(n){r.forEach(u,function(t,i){n.templates[i]||(n.templates[i]=t.cacheTemplateName)})}]).run(["$templateCache","$interpolate",function(n,t){r.forEach(u,function(i){if(!n.get(i.cacheTemplateName)){var r=i.template.replace("{{",t.startSymbol()).replace("}}",t.endSymbol());n.put(i.cacheTemplateName,r)}})}]).name;f(i(23));f(i(38));f(i(43))},,,,,,,,function(){},,,,function(t){t.exports=n},function(n,t,i){function r(n){return i(f(n))}function f(n){return u[n]||function(){throw new Error("Cannot find module '"+n+"'.");}()}var u={"./calendar.html":14,"./calendarDayView.html":15,"./calendarHourList.html":16,"./calendarMonthCell.html":17,"./calendarMonthCellEvents.html":18,"./calendarMonthView.html":19,"./calendarSlideBox.html":20,"./calendarWeekView.html":21,"./calendarYearView.html":22};r.keys=function(){return Object.keys(u)};r.resolve=f;n.exports=r;r.id=13},function(n){n.exports='<div\n  class="cal-context"\n  ng-switch="vm.view"\n  ng-if="vm.templatesLoaded">\n\n  <div class="alert alert-danger" ng-switch-default>The value passed to the view attribute of the calendar is not set<\/div>\n\n  <div class="alert alert-danger" ng-hide="vm.viewDate">The value passed to view-date attribute of the calendar is not set<\/div>\n\n  <mwl-calendar-year\n    events="vm.events"\n    view-date="vm.viewDate"\n    on-event-click="vm.onEventClick"\n    on-event-times-changed="vm.onEventTimesChanged"\n    on-edit-event-click="vm.onEditEventClick"\n    on-delete-event-click="vm.onDeleteEventClick"\n    on-timespan-click="vm.onTimespanClick"\n    edit-event-html="vm.editEventHtml"\n    delete-event-html="vm.deleteEventHtml"\n    cell-is-open="vm.cellIsOpen"\n    cell-modifier="vm.cellModifier"\n    slide-box-disabled="vm.slideBoxDisabled"\n    ng-switch-when="year">\n  <\/mwl-calendar-year>\n\n  <mwl-calendar-month\n    events="vm.events"\n    view-date="vm.viewDate"\n    on-event-click="vm.onEventClick"\n    on-event-times-changed="vm.onEventTimesChanged"\n    on-edit-event-click="vm.onEditEventClick"\n    on-delete-event-click="vm.onDeleteEventClick"\n    on-timespan-click="vm.onTimespanClick"\n    edit-event-html="vm.editEventHtml"\n    delete-event-html="vm.deleteEventHtml"\n    cell-is-open="vm.cellIsOpen"\n    cell-modifier="vm.cellModifier"\n    slide-box-disabled="vm.slideBoxDisabled"\n    ng-switch-when="month">\n  <\/mwl-calendar-month>\n\n  <mwl-calendar-week\n    events="vm.events"\n    view-date="vm.viewDate"\n    on-event-click="vm.onEventClick"\n    on-event-times-changed="vm.onEventTimesChanged"\n    day-view-start="vm.dayViewStart"\n    day-view-end="vm.dayViewEnd"\n    day-view-split="vm.dayViewSplit"\n    day-view-event-chunk-size="vm.dayViewEventChunkSize"\n    on-timespan-click="vm.onTimespanClick"\n    ng-switch-when="week">\n  <\/mwl-calendar-week>\n\n  <mwl-calendar-day\n    events="vm.events"\n    view-date="vm.viewDate"\n    on-event-click="vm.onEventClick"\n    on-event-times-changed="vm.onEventTimesChanged"\n    on-timespan-click="vm.onTimespanClick"\n    on-date-range-select="vm.onDateRangeSelect"\n    day-view-start="vm.dayViewStart"\n    day-view-end="vm.dayViewEnd"\n    day-view-split="vm.dayViewSplit"\n    day-view-event-chunk-size="vm.dayViewEventChunkSize"\n    ng-switch-when="day">\n  <\/mwl-calendar-day>\n<\/div>\n'},function(n){n.exports='<div class="cal-week-box cal-all-day-events-box" ng-if="vm.allDayEvents.length > 0">\n  <div class="cal-day-panel clearfix">\n    <div class="row">\n      <div class="col-xs-12">\n        <div class="cal-row-fluid">\n          <div\n            class="cal-cell-6 day-highlight dh-event-{{ event.type }}"\n            data-event-class\n            ng-repeat="event in vm.allDayEvents track by event.$id">\n            <strong>\n              <span ng-bind="event.startsAt | calendarDate:\'datetime\':true"><\/span>\n              <span ng-if="event.endsAt">\n                - <span ng-bind="event.endsAt | calendarDate:\'datetime\':true"><\/span>\n              <\/span>\n            <\/strong>\n            <a\n              href="javascript:;"\n              class="event-item"\n              ng-bind-html="vm.$sce.trustAsHtml(event.title)">\n            <\/a>\n          <\/div>\n        <\/div>\n      <\/div>\n    <\/div>\n  <\/div>\n<\/div>\n\n<div class="cal-day-box">\n  <div class="cal-day-panel clearfix" ng-style="{height: vm.dayViewHeight + \'px\'}">\n\n    <mwl-calendar-hour-list\n      day-view-start="vm.dayViewStart"\n      day-view-end="vm.dayViewEnd"\n      day-view-split="vm.dayViewSplit"\n      on-timespan-click="vm.onTimespanClick"\n      on-date-range-select="vm.onDateRangeSelect"\n      on-event-times-changed="vm.onEventTimesChanged"\n      view-date="vm.viewDate">\n    <\/mwl-calendar-hour-list>\n\n    <div\n      class="pull-left day-event day-highlight"\n      ng-repeat="event in vm.nonAllDayEvents track by event.$id"\n      ng-class="\'dh-event-\' + event.type + \' \' + event.cssClass"\n      ng-style="{top: event.top + \'px\', left: event.left + 60 + \'px\', height: event.height + \'px\'}"\n      mwl-draggable="event.draggable === true"\n      axis="\'xy\'"\n      snap-grid="{y: vm.dayViewEventChunkSize || 30, x: 50}"\n      on-drag="vm.eventDragged(event, y / 30)"\n      on-drag-end="vm.eventDragComplete(event, y / 30)"\n      mwl-resizable="event.resizable === true && event.endsAt"\n      resize-edges="{top: true, bottom: true}"\n      on-resize="vm.eventResized(event, edge, y / 30)"\n      on-resize-end="vm.eventResizeComplete(event, edge, y / 30)">\n\n      <span class="cal-hours">\n        <span ng-show="event.top == 0"><span ng-bind="(event.tempStartsAt || event.startsAt) | calendarDate:\'day\':true"><\/span>, <\/span>\n        <span ng-bind="(event.tempStartsAt || event.startsAt) | calendarDate:\'time\':true"><\/span>\n      <\/span>\n      <a href="javascript:;" class="event-item" ng-click="vm.onEventClick({calendarEvent: event})">\n        <span ng-bind-html="vm.$sce.trustAsHtml(event.title) | calendarTruncateEventTitle:20:event.height"><\/span>\n      <\/a>\n\n    <\/div>\n\n  <\/div>\n\n<\/div>\n'},function(n){n.exports='<div class="cal-day-panel-hour">\n\n  <div class="cal-day-hour" ng-repeat="hour in vm.hours track by $index">\n\n    <div\n      class="cal-day-hour-part"\n      ng-class="{ \'cal-day-hour-part-selected\': vm.dateRangeSelect &&\n                vm.dateRangeSelect.startDate <= vm.getClickedDate(hour.date, vm.dayViewSplit * $index) &&\n                vm.getClickedDate(hour.date, vm.dayViewSplit * $index) < vm.dateRangeSelect.endDate }"\n      ng-repeat="chunk in vm.hourChunks track by chunk"\n      ng-click="vm.onTimespanClick({calendarDate: vm.getClickedDate(hour.date, vm.dayViewSplit * $index)})"\n      mwl-droppable\n      on-drop="vm.eventDropped(dropData.event, vm.getClickedDate(hour.date, vm.dayViewSplit * $index))"\n      mwl-drag-select="!!vm.onDateRangeSelect"\n      on-drag-select-start="vm.onDragSelectStart(vm.getClickedDate(hour.date, vm.dayViewSplit * $index))"\n      on-drag-select-move="vm.onDragSelectMove(vm.getClickedDate(hour.date, vm.dayViewSplit * ($index + 1)))"\n      on-drag-select-end="vm.onDragSelectEnd(vm.getClickedDate(hour.date, vm.dayViewSplit * ($index + 1)))"\n      ng-if="!vm.dayWidth">\n      <div class="cal-day-hour-part-time">\n        <strong ng-bind="hour.label" ng-show="$first"><\/strong>\n      <\/div>\n    <\/div>\n\n    <div\n      class="cal-day-hour-part"\n      ng-repeat="chunk in vm.hourChunks track by chunk"\n      ng-if="vm.dayWidth">\n      <div class="cal-day-hour-part-time">\n        <strong ng-bind="hour.label" ng-show="$first"><\/strong>\n      <\/div>\n      <div\n        class="cal-day-hour-part-spacer"\n        ng-repeat="dayIndex in [0, 1, 2, 3, 4, 5, 6]"\n        ng-style="{width: vm.dayWidth + \'px\'}"\n        ng-click="vm.onTimespanClick({calendarDate: vm.getClickedDate(hour.date, vm.dayViewSplit * $parent.$index, dayIndex)})"\n        mwl-droppable\n        on-drop="vm.eventDropped(dropData.event, vm.getClickedDate(hour.date, vm.dayViewSplit * $parent.$index, dayIndex))">\n      <\/div>\n    <\/div>\n\n  <\/div>\n\n<\/div>\n'},function(n){n.exports='<div\n  mwl-droppable\n  on-drop="vm.handleEventDrop(dropData.event, day.date, dropData.draggedFromDate)"\n  class="cal-month-day {{ day.cssClass }}"\n  ng-class="{\n    \'cal-day-outmonth\': !day.inMonth,\n    \'cal-day-inmonth\': day.inMonth,\n    \'cal-day-weekend\': day.isWeekend,\n    \'cal-day-past\': day.isPast,\n    \'cal-day-today\': day.isToday,\n    \'cal-day-future\': day.isFuture\n  }">\n\n  <small\n    class="cal-events-num badge badge-important pull-left"\n    ng-show="day.badgeTotal > 0"\n    ng-bind="day.badgeTotal">\n  <\/small>\n\n  <span\n    class="pull-right"\n    data-cal-date\n    ng-click="vm.calendarCtrl.dateClicked(day.date)"\n    ng-bind="day.label">\n  <\/span>\n\n  <div class="cal-day-tick" ng-show="dayIndex === vm.openDayIndex && vm.view[vm.openDayIndex].events.length > 0 && !vm.slideBoxDisabled">\n    <i class="glyphicon glyphicon-chevron-up"><\/i>\n    <i class="fa fa-chevron-up"><\/i>\n  <\/div>\n\n  <ng-include src="vm.calendarConfig.templates.calendarMonthCellEvents"><\/ng-include>\n\n  <div id="cal-week-box" ng-if="$first && rowHovered">\n    <span ng-bind="vm.calendarConfig.i18nStrings.weekNumber.replace(\'{week}\', day.date.clone().add(1, \'day\').isoWeek())"><\/span>\n  <\/div>\n\n<\/div>\n'},function(n){n.exports='<div class="events-list" ng-show="day.events.length > 0">\n  <a\n    ng-repeat="event in day.events | orderBy:\'startsAt\' track by event.$id"\n    href="javascript:;"\n    ng-click="$event.stopPropagation(); vm.onEventClick({calendarEvent: event})"\n    class="pull-left event"\n    ng-class="\'event-\' + event.type + \' \' + event.cssClass"\n    ng-mouseenter="vm.highlightEvent(event, true)"\n    ng-mouseleave="vm.highlightEvent(event, false)"\n    tooltip-append-to-body="true"\n    uib-tooltip-html="(vm.calendarConfig.displayEventTimes?((event.startsAt | calendarDate:\'time\':true) + (vm.calendarConfig.displayEventEndTimes && event.endsAt ? \' - \' + (event.endsAt | calendarDate:\'time\':true) : \'\') + \' - \' + event.title):\'\') | calendarTrustAsHtml"\n    mwl-draggable="event.draggable === true"\n    drop-data="{event: event, draggedFromDate: day.date.toDate()}">\n  <\/a>\n<\/div>\n'},function(n){n.exports='<div class="cal-row-fluid cal-row-head">\n\n  <div class="cal-cell1" ng-repeat="day in vm.weekDays track by $index" ng-bind="day"><\/div>\n\n<\/div>\n<div class="cal-month-box">\n\n  <div\n    ng-repeat="rowOffset in vm.monthOffsets track by rowOffset"\n    ng-mouseenter="rowHovered = true"\n    ng-mouseleave="rowHovered = false">\n    <div class="cal-row-fluid cal-before-eventlist">\n      <div\n        ng-repeat="day in vm.view | calendarLimitTo:7:rowOffset track by $index"\n        ng-init="dayIndex = vm.view.indexOf(day)"\n        class="cal-cell1 cal-cell {{ day.highlightClass }}"\n        ng-click="vm.dayClicked(day, false, $event)"\n        ng-class="{pointer: day.events.length > 0}">\n        <ng-include src="vm.calendarConfig.templates.calendarMonthCell"><\/ng-include>\n      <\/div>\n    <\/div>\n\n    <mwl-calendar-slide-box\n      is-open="vm.openRowIndex === $index && vm.view[vm.openDayIndex].events.length > 0 && !vm.slideBoxDisabled"\n      events="vm.view[vm.openDayIndex].events"\n      on-event-click="vm.onEventClick"\n      edit-event-html="vm.editEventHtml"\n      on-edit-event-click="vm.onEditEventClick"\n      delete-event-html="vm.deleteEventHtml"\n      on-delete-event-click="vm.onDeleteEventClick">\n    <\/mwl-calendar-slide-box>\n\n  <\/div>\n\n<\/div>\n'},function(n){n.exports='<div class="cal-slide-box" uib-collapse="vm.isCollapsed" mwl-collapse-fallback="vm.isCollapsed">\n  <div class="cal-slide-content cal-event-list">\n    <ul class="unstyled list-unstyled">\n\n      <li\n        ng-repeat="event in vm.events | orderBy:\'startsAt\' track by event.$id"\n        ng-class="event.cssClass"\n        mwl-draggable="event.draggable === true"\n        drop-data="{event: event}">\n        <span class="pull-left event" ng-class="\'event-\' + event.type"><\/span>\n        &nbsp;\n        <a\n          href="javascript:;"\n          class="event-item"\n          ng-click="vm.onEventClick({calendarEvent: event})">\n          <span ng-bind-html="vm.$sce.trustAsHtml(event.title)"><\/span>\n          <span ng-if="vm.calendarConfig.displayEventTimes">(<span ng-bind="event.startsAt | calendarDate:(isMonthView ? \'time\' : \'datetime\'):true"><\/span><span ng-if="vm.calendarConfig.displayEventEndTimes && event.endsAt"> - <span ng-bind="event.endsAt | calendarDate:(isMonthView ? \'time\' : \'datetime\'):true"><\/span><\/span>)<\/span>\n        <\/a>\n\n        <a\n          href="javascript:;"\n          class="event-item-edit"\n          ng-if="vm.editEventHtml && event.editable !== false"\n          ng-bind-html="vm.$sce.trustAsHtml(vm.editEventHtml)"\n          ng-click="vm.onEditEventClick({calendarEvent: event})">\n        <\/a>\n\n        <a\n          href="javascript:;"\n          class="event-item-delete"\n          ng-if="vm.deleteEventHtml && event.deletable !== false"\n          ng-bind-html="vm.$sce.trustAsHtml(vm.deleteEventHtml)"\n          ng-click="vm.onDeleteEventClick({calendarEvent: event})">\n        <\/a>\n      <\/li>\n\n    <\/ul>\n  <\/div>\n<\/div>\n'},function(n){n.exports='<div class="cal-week-box" ng-class="{\'cal-day-box\': vm.showTimes}">\n  <div class="cal-row-fluid cal-row-head">\n\n    <div\n      class="cal-cell1"\n      ng-repeat="day in vm.view.days track by $index"\n      ng-class="{\n        \'cal-day-weekend\': day.isWeekend,\n        \'cal-day-past\': day.isPast,\n        \'cal-day-today\': day.isToday,\n        \'cal-day-future\': day.isFuture}"\n      mwl-element-dimensions="vm.dayColumnDimensions"\n      mwl-droppable\n      on-drop="vm.eventDropped(dropData.event, day.date)">\n\n      <span ng-bind="day.weekDayLabel"><\/span>\n      <br>\n      <small>\n        <span\n          data-cal-date\n          ng-click="vm.calendarCtrl.dateClicked(day.date)"\n          class="pointer"\n          ng-bind="day.dayLabel">\n        <\/span>\n      <\/small>\n\n    <\/div>\n\n  <\/div>\n\n  <div class="cal-day-panel clearfix" ng-style="{height: vm.showTimes ? (vm.dayViewHeight + \'px\') : \'auto\'}">\n\n    <mwl-calendar-hour-list\n      day-view-start="vm.dayViewStart"\n      day-view-end="vm.dayViewEnd"\n      day-view-split="vm.dayViewSplit"\n      day-width="vm.dayColumnDimensions.width"\n      view-date="vm.viewDate"\n      on-timespan-click="vm.onTimespanClick"\n      ng-if="vm.showTimes">\n    <\/mwl-calendar-hour-list>\n\n    <div class="row">\n      <div class="col-xs-12">\n        <div\n          class="cal-row-fluid"\n          ng-repeat="event in vm.view.events track by event.$id">\n          <div\n            ng-class="\'cal-cell\' + (vm.showTimes ? 1 : event.daySpan) + (vm.showTimes ? \'\' : \' cal-offset\' + event.dayOffset) + \' day-highlight dh-event-\' + event.type + \' \' + event.cssClass"\n            ng-style="{\n              top: vm.showTimes ? ((event.top + 2) + \'px\') : \'auto\',\n              position: vm.showTimes ? \'absolute\' : \'inherit\',\n              width: vm.showTimes ? (vm.dayColumnDimensions.width + \'px\') : \'\',\n              left: vm.showTimes ? (vm.dayColumnDimensions.width * event.dayOffset) + 15 + \'px\' : \'\'\n            }"\n            data-event-class\n            mwl-draggable="event.draggable === true"\n            axis="vm.showTimes ? \'xy\' : \'x\'"\n            snap-grid="vm.showTimes ? {x: vm.dayColumnDimensions.width, y: vm.dayViewEventChunkSize || 30} : {x: vm.dayColumnDimensions.width}"\n            on-drag="vm.tempTimeChanged(event, y / 30)"\n            on-drag-end="vm.weekDragged(event, x / vm.dayColumnDimensions.width, y / 30)"\n            mwl-resizable="event.resizable === true && event.endsAt && !vm.showTimes"\n            resize-edges="{left: true, right: true}"\n            on-resize-end="vm.weekResized(event, edge, x / vm.dayColumnDimensions.width)">\n            <strong ng-bind="(event.tempStartsAt || event.startsAt) | calendarDate:\'time\':true" ng-show="vm.showTimes"><\/strong>\n            <a\n              href="javascript:;"\n              ng-click="vm.onEventClick({calendarEvent: event})"\n              class="event-item"\n              ng-bind-html="vm.$sce.trustAsHtml(event.title)"\n              uib-tooltip-html="event.title | calendarTrustAsHtml"\n              tooltip-placement="left"\n              tooltip-append-to-body="true">\n            <\/a>\n          <\/div>\n        <\/div>\n      <\/div>\n\n    <\/div>\n\n  <\/div>\n<\/div>\n'},function(n){n.exports='<div class="cal-year-box">\n  <div ng-repeat="rowOffset in [0, 4, 8] track by rowOffset">\n    <div class="row cal-before-eventlist">\n      <div\n        class="span3 col-md-3 col-xs-6 cal-cell {{ day.cssClass }}"\n        ng-repeat="month in vm.view | calendarLimitTo:4:rowOffset track by $index"\n        ng-init="monthIndex = vm.view.indexOf(month)"\n        ng-click="vm.monthClicked(month, false, $event)"\n        ng-class="{pointer: month.events.length > 0, \'cal-day-today\': month.isToday}"\n        mwl-droppable\n        on-drop="vm.handleEventDrop(dropData.event, month.date)">\n\n        <span\n          class="pull-right"\n          data-cal-date\n          ng-click="vm.calendarCtrl.dateClicked(month.date)"\n          ng-bind="month.label">\n        <\/span>\n\n        <small\n          class="cal-events-num badge badge-important pull-left"\n          ng-show="month.badgeTotal > 0"\n          ng-bind="month.badgeTotal">\n        <\/small>\n\n        <div\n          class="cal-day-tick"\n          ng-show="monthIndex === vm.openMonthIndex && vm.view[vm.openMonthIndex].events.length > 0 && !vm.slideBoxDisabled">\n          <i class="glyphicon glyphicon-chevron-up"><\/i>\n          <i class="fa fa-chevron-up"><\/i>\n        <\/div>\n\n      <\/div>\n    <\/div>\n\n    <mwl-calendar-slide-box\n      is-open="vm.openRowIndex === $index && vm.view[vm.openMonthIndex].events.length > 0 && !vm.slideBoxDisabled"\n      events="vm.view[vm.openMonthIndex].events"\n      on-event-click="vm.onEventClick"\n      edit-event-html="vm.editEventHtml"\n      on-edit-event-click="vm.onEditEventClick"\n      delete-event-html="vm.deleteEventHtml"\n      on-delete-event-click="vm.onDeleteEventClick">\n    <\/mwl-calendar-slide-box>\n\n  <\/div>\n\n<\/div>\n'},function(n,t,i){function r(n){return i(f(n))}function f(n){return u[n]||function(){throw new Error("Cannot find module '"+n+"'.");}()}var u={"./mwlCalendar.js":24,"./mwlCalendarDay.js":25,"./mwlCalendarHourList.js":26,"./mwlCalendarMonth.js":27,"./mwlCalendarSlideBox.js":28,"./mwlCalendarWeek.js":29,"./mwlCalendarYear.js":30,"./mwlCollapseFallback.js":31,"./mwlDateModifier.js":32,"./mwlDragSelect.js":33,"./mwlDraggable.js":34,"./mwlDroppable.js":35,"./mwlElementDimensions.js":36,"./mwlResizable.js":37};r.keys=function(){return Object.keys(u)};r.resolve=f;n.exports=r;r.id=23},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlCalendarCtrl",["$scope","$log","$timeout","$attrs","$locale","moment","calendarTitle","calendarHelper",function(n,t,i,u,f,e,o,s){function v(n){return n.startsAt||t.warn("Bootstrap calendar: ","Event is missing the startsAt field",n),r.isDate(n.startsAt)||t.warn("Bootstrap calendar: ","Event startsAt should be a javascript date object. Do `new Date(event.startsAt)` to fix it.",n),r.isDefined(n.endsAt)&&(r.isDate(n.endsAt)||t.warn("Bootstrap calendar: ","Event endsAt should be a javascript date object. Do `new Date(event.endsAt)` to fix it.",n),e(n.startsAt).isAfter(e(n.endsAt))&&t.warn("Bootstrap calendar: ","Event cannot start after it finishes",n)),!0}function a(){o[h.view]&&r.isDefined(u.viewTitle)&&(h.viewTitle=o[h.view](h.viewDate));h.events=h.events.filter(v).map(function(n,t){return Object.defineProperty(n,"$id",{enumerable:!1,configurable:!0,value:t}),n});var t=e(h.viewDate),f=!0;c.clone().startOf(h.view).isSame(t.clone().startOf(h.view))&&!c.isSame(t)&&h.view===l&&(f=!1);c=t;l=h.view;f&&i(function(){n.$broadcast("calendar.refreshView")})}var h=this,c,l;h.events=h.events||[];h.changeView=function(n,t){h.view=n;h.viewDate=t};h.dateClicked=function(n){var t=e(n).toDate(),i={year:"month",month:"day",week:"day"};h.onViewChangeClick({calendarDate:t,calendarNextView:i[h.view]})!==!1&&h.changeView(i[h.view],t)};c=e(h.viewDate);l=h.view;s.loadTemplates().then(function(){h.templatesLoaded=!0;var t=!1;n.$watchGroup(["vm.viewDate","vm.view","vm.cellIsOpen",function(){return e.locale()+f.id}],function(){t?a():(t=!0,n.$watch("vm.events",a,!0))})}).catch(function(n){t.error("Could not load all calendar templates",n)})}]).directive("mwlCalendar",["calendarConfig",function(n){return{templateUrl:n.templates.calendar,restrict:"E",scope:{events:"=",view:"=",viewTitle:"=?",viewDate:"=",editEventHtml:"=?",deleteEventHtml:"=?",cellIsOpen:"=?",slideBoxDisabled:"=?",onEventClick:"&",onEventTimesChanged:"&",onEditEventClick:"&",onDeleteEventClick:"&",onTimespanClick:"&",onDateRangeSelect:"&?",onViewChangeClick:"&",cellModifier:"&",dayViewStart:"@",dayViewEnd:"@",dayViewSplit:"@",dayViewEventChunkSize:"@"},controller:"MwlCalendarCtrl as vm",bindToController:!0}}])},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlCalendarDayCtrl",["$scope","$sce","moment","calendarHelper",function(n,t,i,r){var u=this;u.$sce=t;n.$on("calendar.refreshView",function(){u.dayViewSplit=u.dayViewSplit||30;u.dayViewHeight=r.getDayViewHeight(u.dayViewStart,u.dayViewEnd,u.dayViewSplit);var n=r.getDayView(u.events,u.viewDate,u.dayViewStart,u.dayViewEnd,u.dayViewSplit);u.allDayEvents=n.filter(function(n){return n.allDay});u.nonAllDayEvents=n.filter(function(n){return!n.allDay})});u.eventDragComplete=function(n,t){var r=t*u.dayViewSplit,f=i(n.startsAt).add(r,"minutes"),e=i(n.endsAt).add(r,"minutes");delete n.tempStartsAt;u.onEventTimesChanged({calendarEvent:n,calendarNewEventStart:f.toDate(),calendarNewEventEnd:n.endsAt?e.toDate():null})};u.eventDragged=function(n,t){var r=t*u.dayViewSplit;n.tempStartsAt=i(n.startsAt).add(r,"minutes").toDate()};u.eventResizeComplete=function(n,t,r){var f=r*u.dayViewSplit,e=i(n.startsAt),o=i(n.endsAt);t==="start"?e.add(f,"minutes"):o.add(f,"minutes");delete n.tempStartsAt;u.onEventTimesChanged({calendarEvent:n,calendarNewEventStart:e.toDate(),calendarNewEventEnd:o.toDate()})};u.eventResized=function(n,t,r){var f=r*u.dayViewSplit;t==="start"&&(n.tempStartsAt=i(n.startsAt).add(f,"minutes").toDate())}}]).directive("mwlCalendarDay",["calendarConfig",function(n){return{templateUrl:n.templates.calendarDayView,restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",onEventClick:"=",onEventTimesChanged:"=",onTimespanClick:"=",onDateRangeSelect:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"=",dayViewEventChunkSize:"="},controller:"MwlCalendarDayCtrl as vm",bindToController:!0}}])},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlCalendarHourListCtrl",["$scope","$attrs","moment","calendarConfig","calendarHelper",function(n,t,i,r,u){function s(){var n,h,s;for(e=i(f.dayViewStart||"00:00","HH:mm"),o=i(f.dayViewEnd||"23:00","HH:mm"),f.dayViewSplit=parseInt(f.dayViewSplit),f.hours=[],n=i(f.viewDate).clone(),t.dayWidth&&(n=n.startOf("week")),n.hours(e.hours()).minutes(e.minutes()).seconds(e.seconds()),h=0;h<=o.diff(e,"hours");h++)f.hours.push({label:u.formatDate(n,r.dateFormats.hour),date:n.clone()}),n.add(1,"hour");for(f.hourChunks=[],s=0;s<60/f.dayViewSplit;s++)f.hourChunks.push(s)}var f=this,e,o,h=i.locale();n.$on("calendar.refreshView",function(){h!==i.locale()&&(h=i.locale(),s())});n.$watchGroup(["vm.dayViewStart","vm.dayViewEnd","vm.dayViewSplit","vm.viewDate"],function(){s()});f.eventDropped=function(n,t){var r=i(t),e=u.adjustEndDateFromStartDiff(n.startsAt,r,n.endsAt);f.onEventTimesChanged({calendarEvent:n,calendarDate:t,calendarNewEventStart:r.toDate(),calendarNewEventEnd:e?e.toDate():null})};f.getClickedDate=function(n,t,r){return i(n).clone().add(t,"minutes").add(r||0,"days").toDate()};f.onDragSelectStart=function(n){f.dateRangeSelect={startDate:n,endDate:n}};f.onDragSelectMove=function(n){f.dateRangeSelect&&(f.dateRangeSelect.endDate=n)};f.onDragSelectEnd=function(n){if(f.dateRangeSelect.endDate=n,f.dateRangeSelect.endDate>f.dateRangeSelect.startDate)f.onDateRangeSelect({calendarRangeStartDate:f.dateRangeSelect.startDate,calendarRangeEndDate:f.dateRangeSelect.endDate});delete f.dateRangeSelect}}]).directive("mwlCalendarHourList",["calendarConfig",function(n){return{restrict:"E",templateUrl:n.templates.calendarHourList,controller:"MwlCalendarHourListCtrl as vm",scope:{viewDate:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"=",dayWidth:"=?",onTimespanClick:"=",onDateRangeSelect:"=",onEventTimesChanged:"="},bindToController:!0}}])},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlCalendarMonthCtrl",["$scope","moment","calendarHelper","calendarConfig",function(n,t,i,r){var u=this;u.calendarConfig=r;u.openRowIndex=null;n.$on("calendar.refreshView",function(){var r,n;for(u.weekDays=i.getWeekDayNames(),u.view=i.getMonthView(u.events,u.viewDate,u.cellModifier),r=Math.floor(u.view.length/7),u.monthOffsets=[],n=0;n<r;n++)u.monthOffsets.push(n*7);u.cellIsOpen&&u.openRowIndex===null&&(u.openDayIndex=null,u.view.forEach(function(n){n.inMonth&&t(u.viewDate).startOf("day").isSame(n.date)&&u.dayClicked(n,!0)}))});u.dayClicked=function(n,t,i){if(!t){u.onTimespanClick({calendarDate:n.date.toDate(),calendarCell:n,$event:i});if(i&&i.defaultPrevented)return}u.openRowIndex=null;var r=u.view.indexOf(n);r===u.openDayIndex?(u.openDayIndex=null,u.cellIsOpen=!1):(u.openDayIndex=r,u.openRowIndex=Math.floor(r/7),u.cellIsOpen=!0)};u.highlightEvent=function(n,t){u.view.forEach(function(i){if(delete i.highlightClass,t){var r=i.events.indexOf(n)>-1;r&&(i.highlightClass="day-highlight dh-event-"+n.type)}})};u.handleEventDrop=function(n,r,f){var e=t(n.startsAt).date(t(r).date()).month(t(r).month()).year(t(r).year()),o=i.adjustEndDateFromStartDiff(n.startsAt,e,n.endsAt);u.onEventTimesChanged({calendarEvent:n,calendarDate:r,calendarNewEventStart:e.toDate(),calendarNewEventEnd:o?o.toDate():null,calendarDraggedFromDate:f})}}]).directive("mwlCalendarMonth",["calendarConfig",function(n){return{templateUrl:n.templates.calendarMonthView,restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",onEventClick:"=",onEditEventClick:"=",onDeleteEventClick:"=",onEventTimesChanged:"=",editEventHtml:"=",deleteEventHtml:"=",cellIsOpen:"=",onTimespanClick:"=",cellModifier:"=",slideBoxDisabled:"="},controller:"MwlCalendarMonthCtrl as vm",link:function(n,t,i,r){n.vm.calendarCtrl=r},bindToController:!0}}])},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlCalendarSlideBoxCtrl",["$sce","$scope","$timeout","calendarConfig",function(n,t,i,r){var u=this;u.$sce=n;u.calendarConfig=r;u.isCollapsed=!0;t.$watch("vm.isOpen",function(n){i(function(){u.isCollapsed=!n})})}]).directive("mwlCalendarSlideBox",["calendarConfig",function(n){return{restrict:"E",templateUrl:n.templates.calendarSlideBox,replace:!0,controller:"MwlCalendarSlideBoxCtrl as vm",require:["^?mwlCalendarMonth","^?mwlCalendarYear"],link:function(n,t,i,r){n.isMonthView=!!r[0];n.isYearView=!!r[1]},scope:{isOpen:"=",events:"=",onEventClick:"=",editEventHtml:"=",onEditEventClick:"=",deleteEventHtml:"=",onDeleteEventClick:"="},bindToController:!0}}])},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlCalendarWeekCtrl",["$scope","$sce","moment","calendarHelper","calendarConfig",function(n,t,i,r,u){var f=this;f.showTimes=u.showTimesOnWeekView;f.$sce=t;n.$on("calendar.refreshView",function(){f.dayViewSplit=f.dayViewSplit||30;f.dayViewHeight=r.getDayViewHeight(f.dayViewStart,f.dayViewEnd,f.dayViewSplit);f.view=f.showTimes?r.getWeekViewWithTimes(f.events,f.viewDate,f.dayViewStart,f.dayViewEnd,f.dayViewSplit):r.getWeekView(f.events,f.viewDate)});f.weekDragged=function(n,t,r){var u=i(n.startsAt).add(t,"days"),e=i(n.endsAt).add(t,"days"),o;r&&(o=r*f.dayViewSplit,u=u.add(o,"minutes"),e=e.add(o,"minutes"));delete n.tempStartsAt;f.onEventTimesChanged({calendarEvent:n,calendarNewEventStart:u.toDate(),calendarNewEventEnd:n.endsAt?e.toDate():null})};f.eventDropped=function(n,t){var r=i(t).diff(i(n.startsAt),"days");f.weekDragged(n,r)};f.weekResized=function(n,t,r){var u=i(n.startsAt),e=i(n.endsAt);t==="start"?u.add(r,"days"):e.add(r,"days");f.onEventTimesChanged({calendarEvent:n,calendarNewEventStart:u.toDate(),calendarNewEventEnd:e.toDate()})};f.tempTimeChanged=function(n,t){var r=t*f.dayViewSplit;n.tempStartsAt=i(n.startsAt).add(r,"minutes").toDate()}}]).directive("mwlCalendarWeek",["calendarConfig",function(n){return{templateUrl:n.templates.calendarWeekView,restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",onEventClick:"=",onEventTimesChanged:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"=",dayViewEventChunkSize:"=",onTimespanClick:"="},controller:"MwlCalendarWeekCtrl as vm",link:function(n,t,i,r){n.vm.calendarCtrl=r},bindToController:!0}}])},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlCalendarYearCtrl",["$scope","moment","calendarHelper",function(n,t,i){var r=this;r.openMonthIndex=null;n.$on("calendar.refreshView",function(){r.view=i.getYearView(r.events,r.viewDate,r.cellModifier);r.cellIsOpen&&r.openMonthIndex===null&&(r.openMonthIndex=null,r.view.forEach(function(n){t(r.viewDate).startOf("month").isSame(n.date)&&r.monthClicked(n,!0)}))});r.monthClicked=function(n,t,i){if(!t){r.onTimespanClick({calendarDate:n.date.toDate(),calendarCell:n,$event:i});if(i&&i.defaultPrevented)return}r.openRowIndex=null;var u=r.view.indexOf(n);u===r.openMonthIndex?(r.openMonthIndex=null,r.cellIsOpen=!1):(r.openMonthIndex=u,r.openRowIndex=Math.floor(u/4),r.cellIsOpen=!0)};r.handleEventDrop=function(n,u){var f=t(n.startsAt).month(t(u).month()).year(t(u).year()),e=i.adjustEndDateFromStartDiff(n.startsAt,f,n.endsAt);r.onEventTimesChanged({calendarEvent:n,calendarDate:u,calendarNewEventStart:f.toDate(),calendarNewEventEnd:e?e.toDate():null})}}]).directive("mwlCalendarYear",["calendarConfig",function(n){return{templateUrl:n.templates.calendarYearView,restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",onEventClick:"=",onEventTimesChanged:"=",onEditEventClick:"=",onDeleteEventClick:"=",editEventHtml:"=",deleteEventHtml:"=",cellIsOpen:"=",onTimespanClick:"=",cellModifier:"=",slideBoxDisabled:"="},controller:"MwlCalendarYearCtrl as vm",link:function(n,t,i,r){n.vm.calendarCtrl=r},bindToController:!0}}])},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlCollapseFallbackCtrl",["$scope","$attrs","$element",function(n,t,i){n.$watch(t.mwlCollapseFallback,function(n){n?i.addClass("ng-hide"):i.removeClass("ng-hide")})}]).directive("mwlCollapseFallback",["$injector",function(n){return n.has("uibCollapseDirective")?{}:{restrict:"A",controller:"MwlCollapseFallbackCtrl"}}])},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlDateModifierCtrl",["$element","$attrs","$scope","moment",function(n,t,i,u){function e(){r.isDefined(t.setToToday)?f.date=new Date:r.isDefined(t.increment)?f.date=u(f.date).add(1,f.increment).toDate():r.isDefined(t.decrement)&&(f.date=u(f.date).subtract(1,f.decrement).toDate());i.$apply()}var f=this;n.bind("click",e);i.$on("$destroy",function(){n.unbind("click",e)})}]).directive("mwlDateModifier",function(){return{restrict:"A",controller:"MwlDateModifierCtrl as vm",scope:{date:"=",increment:"=",decrement:"="},bindToController:!0}})},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlDragSelectCtrl",["$scope","$element","$parse","$attrs",function(n,t,i,r){function u(t){return function(r){t&&(i(t)(n),n.$apply());r.preventDefault()}}function h(){t.on("mousedown",f);t.on("mousemove",e);t.on("mouseup",o)}function s(){t.off("mousedown",f);t.off("mousemove",e);t.off("mouseup",o)}var f=u(r.onDragSelectStart),e=u(r.onDragSelectMove),o=u(r.onDragSelectEnd);n.$watch(r.mwlDragSelect,function(n){n?h():s()});n.$on("$destroy",function(){s()})}]).directive("mwlDragSelect",function(){return{restrict:"A",controller:"MwlDragSelectCtrl"}})},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlDraggableCtrl",["$element","$scope","$window","$parse","$attrs","$timeout","interact",function(n,t,i,u,f,e,o){function c(n,t){return n.css("-ms-transform",t).css("-webkit-transform",t).css("transform",t)}if(o){var s,h;f.snapGrid&&(h=u(f.snapGrid)(t),s={targets:[o.createSnapGrid(h)]});o(n[0]).draggable({snap:s,onstart:function(n){r.element(n.target).addClass("dragging-active");n.target.dropData=u(f.dropData)(t);n.target.style.pointerEvents="none";f.onDragStart&&(u(f.onDragStart)(t),t.$apply())},onmove:function(n){var e=r.element(n.target),o=(parseFloat(e.attr("data-x"))||0)+(n.dx||0),s=(parseFloat(e.attr("data-y"))||0)+(n.dy||0);switch(u(f.axis)(t)){case"x":s=0;break;case"y":o=0}i.getComputedStyle(e[0]).position==="static"&&e.css("position","relative");c(e,"translate("+o+"px, "+s+"px)").css("z-index",50).attr("data-x",o).attr("data-y",s);f.onDrag&&(u(f.onDrag)(t,{x:o,y:s}),t.$apply())},onend:function(n){var i=r.element(n.target),o=i.attr("data-x"),s=i.attr("data-y");n.target.style.pointerEvents="auto";f.onDragEnd&&(u(f.onDragEnd)(t,{x:o,y:s}),t.$apply());e(function(){c(i,"").css("z-index","auto").removeAttr("data-x").removeAttr("data-y").removeClass("dragging-active")})}});t.$watch(f.mwlDraggable,function(t){o(n[0]).draggable({enabled:t})});t.$on("$destroy",function(){o(n[0]).unset()})}}]).directive("mwlDraggable",function(){return{restrict:"A",controller:"MwlDraggableCtrl"}})},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlDroppableCtrl",["$element","$scope","$parse","$attrs","interact",function(n,t,i,u,f){if(f){var e=u.dropActiveClass||"drop-active";f(n[0]).dropzone({ondragenter:function(n){r.element(n.target).addClass(e)},ondragleave:function(n){r.element(n.target).removeClass(e)},ondropdeactivate:function(n){r.element(n.target).removeClass(e)},ondrop:function(n){n.relatedTarget.dropData&&(i(u.onDrop)(t,{dropData:n.relatedTarget.dropData}),t.$apply())}});t.$on("$destroy",function(){f(n[0]).unset()})}}]).directive("mwlDroppable",function(){return{restrict:"A",controller:"MwlDroppableCtrl"}})},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlElementDimensionsCtrl",["$element","$scope","$parse","$attrs","$window",function(n,t,i,u,f){function e(){i(u.mwlElementDimensions).assign(t,{width:n[0].offsetWidth,height:n[0].offsetHeight});t.$applyAsync()}var o=r.element(f);o.bind("resize",e);e();t.$on("$destroy",function(){o.unbind("resize",e)})}]).directive("mwlElementDimensions",function(){return{restrict:"A",controller:"MwlElementDimensionsCtrl"}})},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").controller("MwlResizableCtrl",["$element","$scope","$parse","$attrs","$timeout","interact",function(n,t,i,u,f,e){function a(n,t){var i={};return i.edge=n,n==="start"?(i.x=t.data("x"),i.y=t.data("y")):n==="end"&&(i.x=parseFloat(t.css("width").replace("px",""))-o.width,i.y=parseFloat(t.css("height").replace("px",""))-o.height),i}var c,l,o,s,h;e&&(u.snapGrid&&(l=i(u.snapGrid)(t),c={targets:[e.createSnapGrid(l)]}),o={},s={},e(n[0]).resizable({edges:i(u.resizeEdges)(t),snap:c,onstart:function(n){h="end";var t=r.element(n.target);o.height=t[0].offsetHeight;o.width=t[0].offsetWidth;s.height=t.css("height");s.width=t.css("width")},onmove:function(n){if(n.rect.width>0&&n.rect.height>0){var f=r.element(n.target),e=parseFloat(f.data("x")||0),o=parseFloat(f.data("y")||0);f.css({width:n.rect.width+"px",height:n.rect.height+"px"});e+=n.deltaRect.left;o+=n.deltaRect.top;f.css("transform","translate("+e+"px,"+o+"px)");f.data("x",e);f.data("y",o);(n.deltaRect.left!==0||n.deltaRect.top!==0)&&(h="start");u.onResize&&(i(u.onResize)(t,a(h,f)),t.$apply())}},onend:function(n){var e=r.element(n.target),o=a(h,e);f(function(){e.data("x",null).data("y",null).css({transform:"",width:s.width,height:s.height})});u.onResizeEnd&&(i(u.onResizeEnd)(t,o),t.$apply())}}),t.$watch(u.mwlResizable,function(t){e(n[0]).resizable({enabled:t})}),t.$on("$destroy",function(){e(n[0]).unset()}))}]).directive("mwlResizable",function(){return{restrict:"A",controller:"MwlResizableCtrl"}})},function(n,t,i){function r(n){return i(f(n))}function f(n){return u[n]||function(){throw new Error("Cannot find module '"+n+"'.");}()}var u={"./calendarDate.js":39,"./calendarLimitTo.js":40,"./calendarTruncateEventTitle.js":41,"./calendarTrustAsHtml.js":42};r.keys=function(){return Object.keys(u)};r.resolve=f;n.exports=r;r.id=38},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").filter("calendarDate",["calendarHelper","calendarConfig",function(n,t){function i(i,r,u){return u===!0&&(r=t.dateFormats[r]),n.formatDate(i,r)}return i.$stateful=!0,i}])},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").filter("calendarLimitTo",["limitToFilter",function(n){return r.version.minor>=4?n:function(n,t,i){return(t=Math.abs(Number(t))===Infinity?Number(t):parseInt(t),isNaN(t))?n:(r.isNumber(n)&&(n=n.toString()),!r.isArray(n)&&!r.isString(n))?n:(i=!i||isNaN(i)?0:parseInt(i),i=i<0&&i>=-n.length?n.length+i:i,t>=0?n.slice(i,i+t):i===0?n.slice(t,n.length):n.slice(Math.max(0,i+t),i))}}])},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").filter("calendarTruncateEventTitle",function(){return function(n,t,i){return n?n.length>=t&&n.length/20>i/30?n.substr(0,t)+"...":n:""}})},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").filter("calendarTrustAsHtml",["$sce",function(n){return function(t){return n.trustAsHtml(t)}}])},function(n,t,i){function r(n){return i(f(n))}function f(n){return u[n]||function(){throw new Error("Cannot find module '"+n+"'.");}()}var u={"./calendarConfig.js":44,"./calendarHelper.js":45,"./calendarTitle.js":46,"./interact.js":47,"./moment.js":49};r.keys=function(){return Object.keys(u)};r.resolve=f;n.exports=r;r.id=43},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").constant("calendarConfig",{allDateFormats:{angular:{date:{hour:"ha",day:"d MMM",month:"MMMM",weekDay:"EEEE",time:"HH:mm",datetime:"MMM d, h:mm a"},title:{day:"EEEE d MMMM, yyyy",week:"Week {week} of {year}",month:"MMMM yyyy",year:"yyyy"}},moment:{date:{hour:"ha",day:"D MMM",month:"MMMM",weekDay:"dddd",time:"HH:mm",datetime:"MMM D, h:mm a"},title:{day:"dddd D MMMM, YYYY",week:"Week {week} of {year}",month:"MMMM YYYY",year:"YYYY"}}},get dateFormats(){return this.allDateFormats[this.dateFormatter].date},get titleFormats(){return this.allDateFormats[this.dateFormatter].title},dateFormatter:"angular",displayEventTimes:!0,displayEventEndTimes:!1,showTimesOnWeekView:!1,displayAllMonthEvents:!1,i18nStrings:{weekNumber:"Week {week}"},templates:{}})},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").factory("calendarHelper",["$q","$templateRequest","dateFilter","moment","calendarConfig",function(n,t,i,r,u){function e(n,t){if(u.dateFormatter==="angular")return i(r(n).toDate(),t);if(u.dateFormatter==="moment")return r(n).format(t);throw new Error("Unknown date formatter: "+u.dateFormatter);}function s(n,t,i){if(!i)return i;var u=r(t).diff(r(n));return r(i).add(u)}function h(n,t,i){var u=r(n.start),f=r(n.end),e=r(i);if(t){switch(t){case"year":u.set({year:e.year()});break;case"month":u.set({year:e.year(),month:e.month()});break;default:throw new Error("Invalid value ("+t+") given for recurs on. Can only be year or month.");}f=s(n.start,u,f)}return{start:u,end:f}}function o(n,t,i){t=r(t);i=r(i);var e=h({start:n.startsAt,end:n.endsAt||n.startsAt},n.recursOn,t),u=e.start,f=e.end;return u.isAfter(t)&&u.isBefore(i)||f.isAfter(t)&&f.isBefore(i)||u.isBefore(t)&&f.isAfter(i)||u.isSame(t)||f.isSame(i)}function f(n,t,i){return n.filter(function(n){return o(n,t,i)})}function v(n,t,i){var u=r(n).startOf(t),e=r(n).endOf(t);return f(i,u,e)}function c(n){return n.filter(function(n){return n.incrementsBadgeTotal!==!1}).length}function y(){for(var n=[],t=0;t<7;)n.push(e(r().weekday(t++),u.dateFormats.weekDay));return n}function p(n,t,i){for(var s=[],p=v(t,"year",n),h=r(t).startOf("year"),l=0;l<12;){var o=h.clone(),w=o.clone().endOf("month"),a=f(p,o,w),y={label:e(o,u.dateFormats.month),isToday:o.isSame(r().startOf("month")),events:a,date:o,badgeTotal:c(a)};i({calendarCell:y});s.push(y);h.add(1,"month");l++}return s}function w(n,t,i){var h=r(t).startOf("month"),e=h.clone().startOf("week"),y=r(t).endOf("month").endOf("week"),p,l,o,a,s,v;for(p=u.displayAllMonthEvents?f(n,e,y):f(n,h,h.clone().endOf("month")),l=[],o=r().startOf("day");e.isBefore(y);)a=e.month()===r(t).month(),s=[],(a||u.displayAllMonthEvents)&&(s=f(p,e,e.clone().endOf("day"))),v={label:e.date(),date:e.clone(),inMonth:a,isPast:o.isAfter(e),isToday:o.isSame(e),isFuture:o.isBefore(e),isWeekend:[0,6].indexOf(e.day())>-1,events:s,badgeTotal:c(s)},i({calendarCell:v}),l.push(v),e.add(1,"day");return l}function l(n,t){for(var o=r(t).startOf("week"),l=r(t).endOf("week"),i=o.clone(),s=[],c=r().startOf("day"),a;s.length<7;)s.push({weekDayLabel:e(i,u.dateFormats.weekDay),date:i.clone(),dayLabel:e(i,u.dateFormats.day),isPast:i.isBefore(c),isToday:i.isSame(c),isFuture:i.isAfter(c),isWeekend:[0,6].indexOf(i.day())>-1}),i.add(1,"day");return a=f(n,o,l).map(function(n){var t=r(o).startOf("day"),f=r(l).startOf("day"),e=h({start:r(n.startsAt).startOf("day"),end:r(n.endsAt||n.startsAt).startOf("day")},n.recursOn,t),i=e.start,u=e.end,s;return s=i.isBefore(t)||i.isSame(t)?0:i.diff(t,"days"),u.isAfter(f)&&(u=f),i.isBefore(t)&&(i=t),n.daySpan=r(u).diff(i,"days")+1,n.dayOffset=s,n}),{days:s,events:a}}function a(n,t,i,u,e){var c=r(i||"00:00","HH:mm").hours(),l=r(u||"23:00","HH:mm").hours(),a=1800/e,s=r(t).startOf("day").add(c,"hours"),p=r(t).startOf("day").add(l+1,"hours"),v=(l-c+1)*a,y=a/60,h=[],w=f(n,r(t).startOf("day").toDate(),r(t).endOf("day").toDate());return w.map(function(n){if(n.top=r(n.startsAt).isBefore(s)?0:r(n.startsAt).startOf("minute").diff(s.startOf("minute"),"minutes")*y-2,r(n.endsAt||n.startsAt).isAfter(p))n.height=v-n.top;else{var t=n.startsAt;r(n.startsAt).isBefore(s)&&(t=s.toDate());n.height=n.endsAt?r(n.endsAt).diff(r(t),"minutes")*y:30}return n.top-n.height>v&&(n.height=0),n.left=0,n}).filter(function(n){return n.height>0}).map(function(n){var t=!0;return h.forEach(function(i,r){var u=!0;i.filter(function(n){return!n.allDay}).forEach(function(t){(o(n,t.startsAt,t.endsAt||t.startsAt)||o(t,n.startsAt,n.endsAt||n.startsAt))&&(u=!1)});u&&t&&(t=!1,n.left=r*150,h[r].push(n))}),t&&(n.left=h.length*150,h.push([n])),n})}function b(n,t,i,u,f){var e=l(n,t),o=[];return e.days.forEach(function(n){var t=e.events.filter(function(t){return r(t.startsAt).startOf("day").isSame(r(n.date).startOf("day"))}),s=a(t,n.date,i,u,f);o=o.concat(s)}),e.events=o,e}function k(n,t,i){var u=r(n||"00:00","HH:mm"),f=r(t||"23:00","HH:mm"),e=1800/i;return(f.diff(u,"hours")+1)*e+2}function d(){var i=Object.keys(u.templates).map(function(n){var i=u.templates[n];return t(i)});return n.all(i)}return{getWeekDayNames:y,getYearView:p,getMonthView:w,getWeekView:l,getDayView:a,getWeekViewWithTimes:b,getDayViewHeight:k,adjustEndDateFromStartDiff:s,formatDate:e,loadTemplates:d,eventIsInPeriod:o}}])},function(n,t,i){"use strict";var r=i(12);r.module("mwl.calendar").factory("calendarTitle",["moment","calendarConfig","calendarHelper",function(n,t,i){function r(n){return i.formatDate(n,t.titleFormats.day)}function u(i){return t.titleFormats.week.replace("{week}",n(i).isoWeek()).replace("{year}",n(i).startOf("week").format("YYYY"))}function f(n){return i.formatDate(n,t.titleFormats.month)}function e(n){return i.formatDate(n,t.titleFormats.year)}return{day:r,week:u,month:f,year:e}}])},function(n,t,i){"use strict";var u=i(12),r;try{r=i(48)}catch(f){r=null}u.module("mwl.calendar").constant("interact",r)},function(n){if(typeof t=="undefined"){var i=new Error('Cannot find module "undefined"');i.code="MODULE_NOT_FOUND";throw i;}n.exports=t},function(n,t,i){"use strict";var r=i(12),u=i(50);r.module("mwl.calendar").constant("moment",u)},function(n){n.exports=i}])});